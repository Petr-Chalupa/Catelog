asyncapi: 3.1.0
info:
    title: Notification Service
    version: 1.0.0

channels:
    push-notifications:
        messages:
            Notification:
                payload:
                    type: object
                    required: [msgKey]
                    properties:
                        msgKey:
                            type: string
                            description: Path to the translation object in JSON (e.g., notifications.wl-invite-success)
                        params:
                            type: object
                            description: Dynamic parameters to be injected into the translation string
                            additionalProperties:
                                type: string
                        url:
                            type: string
                            description: Relative URL to open when the notification is clicked

operations:
    sendPush:
        action: send
        summary: Send a push notifications to user
        channel:
            $ref: "#/channels/push-notifications"
        messages:
            - $ref: "#/channels/push-notifications/messages/Notification"
